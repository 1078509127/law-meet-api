{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-e19a948a\"],{\"07dd\":function(e,t,a){},3108:function(e,t,a){\"use strict\";a.d(t,\"b\",(function(){return r})),a.d(t,\"a\",(function(){return n}));var i=a(\"b775\");function r(e){return Object(i[\"a\"])({url:\"/brokerage/list\",method:\"get\",params:e})}function n(e){return Object(i[\"a\"])({url:\"/brokerage/approve\",method:\"post\",data:e})}},\"333d\":function(e,t,a){\"use strict\";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"pagination-container\",class:{hidden:e.hidden}},[a(\"el-pagination\",e._b({attrs:{background:e.background,\"current-page\":e.currentPage,\"page-size\":e.pageSize,layout:e.layout,total:e.total},on:{\"update:currentPage\":function(t){e.currentPage=t},\"update:current-page\":function(t){e.currentPage=t},\"update:pageSize\":function(t){e.pageSize=t},\"update:page-size\":function(t){e.pageSize=t},\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}},\"el-pagination\",e.$attrs,!1))],1)},r=[];a(\"a9e3\");Math.easeInOutQuad=function(e,t,a,i){return e/=i/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function l(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,a){var i=o(),r=e-i,s=20,u=0;t=\"undefined\"===typeof t?500:t;var c=function e(){u+=s;var o=Math.easeInOutQuad(u,i,r,t);l(o),u<t?n(e):a&&\"function\"===typeof a&&a()};c()}var u={name:\"Pagination\",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:\"total, sizes, prev, pager, next, jumper\"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit(\"update:page\",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit(\"update:limit\",e)}}},methods:{handleSizeChange:function(e){this.$emit(\"pagination\",{page:this.currentPage,limit:e}),this.autoScroll&&s(0,800)},handleCurrentChange:function(e){this.$emit(\"pagination\",{page:e,limit:this.pageSize}),this.autoScroll&&s(0,800)}}},c=u,p=(a(\"79e5\"),a(\"2877\")),d=Object(p[\"a\"])(c,i,r,!1,null,\"7d9f0a7c\",null);t[\"a\"]=d.exports},\"3ce3\":function(e,t,a){\"use strict\";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\"},[a(\"div\",{staticClass:\"filter-container\"},[a(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"请输入用户名\"},model:{value:e.listQuery.username,callback:function(t){e.$set(e.listQuery,\"username\",t)},expression:\"listQuery.username\"}}),a(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"请输入手机号\"},model:{value:e.listQuery.mobile,callback:function(t){e.$set(e.listQuery,\"mobile\",t)},expression:\"listQuery.mobile\"}}),a(\"el-select\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{multiple:\"\",size:\"small\",placeholder:\"请选择提现状态\"},model:{value:e.listQuery.statusArray,callback:function(t){e.$set(e.listQuery,\"statusArray\",t)},expression:\"listQuery.statusArray\"}},e._l(e.statusMap,(function(e,t){return a(\"el-option\",{key:e,attrs:{label:e,value:t}})})),1),a(\"el-button\",{staticClass:\"filter-item\",attrs:{type:\"primary\",size:\"small\",icon:\"el-icon-search\"},on:{click:e.handleFilter}},[e._v(\"查找\")])],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.listLoading,expression:\"listLoading\"}],attrs:{data:e.list,size:\"small\",\"element-loading-text\":\"正在查询中。。。\",border:\"\",fit:\"\",\"highlight-current-row\":\"\"}},[a(\"el-table-column\",{attrs:{align:\"center\",width:\"100px\",label:\"用户ID\",prop:\"id\",sortable:\"\"}}),a(\"el-table-column\",{attrs:{align:\"center\",label:\"用户名\",prop:\"nickname\"}}),a(\"el-table-column\",{attrs:{align:\"center\",label:\"手机号码\",prop:\"mobile\"}}),a(\"el-table-column\",{attrs:{align:\"center\",label:\"性别\",prop:\"gender\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\" \"+e._s(e.genderDic[t.row.gender])+\" \")]}}])}),a(\"el-table-column\",{attrs:{align:\"center\",label:\"预约地址\",prop:\"birthday\"}}),a(\"el-table-column\",{attrs:{align:\"center\",label:\"预约时间\",prop:\"userLevel\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\" \"+e._s(e.levelDic[t.row.userLevel])+\" \")]}}])}),a(\"el-table-column\",{attrs:{align:\"center\",label:\"预约说明\",prop:\"birthday\"}}),a(\"el-table-column\",{attrs:{align:\"center\",label:\"审批状态\",prop:\"birthday\"}}),a(\"el-table-column\",{attrs:{align:\"center\",label:\"审批备注\",prop:\"birthday\"}}),a(\"el-table-column\",{attrs:{align:\"center\",label:\"操作\",width:\"120\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[0==t.row.status||2==t.row.status?a(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"GET /admin/brokerage/approve\"],expression:\"['GET /admin/brokerage/approve']\"}],attrs:{type:\"primary\",size:\"mini\"},on:{click:function(a){return e.handleApprove(t.row)}}},[e._v(\"审批\")]):a(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"GET /admin/brokerage/approve\"],expression:\"['GET /admin/brokerage/approve']\"}],attrs:{type:\"info\",size:\"mini\"}},[e._v(\"已审批\")])]}}])})],1),a(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.total>0,expression:\"total>0\"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{\"update:page\":function(t){return e.$set(e.listQuery,\"page\",t)},\"update:limit\":function(t){return e.$set(e.listQuery,\"limit\",t)},pagination:e.getList}}),a(\"el-dialog\",{attrs:{visible:e.approveDialogVisible,title:\"提现审批\"},on:{\"update:visible\":function(t){e.approveDialogVisible=t}}},[a(\"el-form\",{ref:\"approveForm\",staticStyle:{width:\"400px\",\"margin-left\":\"50px\"},attrs:{rules:e.rules,model:e.approveForm,\"status-icon\":\"\",\"label-position\":\"left\",\"label-width\":\"100px\"}},[a(\"el-form-item\",{attrs:{label:\"是否通过\",prop:\"status\"}},[a(\"el-radio-group\",{model:{value:e.approveForm.status,callback:function(t){e.$set(e.approveForm,\"status\",t)},expression:\"approveForm.status\"}},[a(\"el-radio\",{attrs:{label:1}},[e._v(\"通过\")]),a(\"el-radio\",{attrs:{label:2}},[e._v(\"拒绝\")])],1)],1),a(\"el-form-item\",{attrs:{label:\"审批备注\",prop:\"traceMsg\"}},[a(\"el-input\",{model:{value:e.approveForm.traceMsg,callback:function(t){e.$set(e.approveForm,\"traceMsg\",t)},expression:\"approveForm.traceMsg\"}})],1)],1),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.approveDialogVisible=!1}}},[e._v(\"取消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.confirmApprove}},[e._v(\"审批\")])],1)],1)],1)},r=[],n=a(\"3108\"),l=a(\"333d\"),o=a(\"e350\"),s={0:\"提现申请\",1:\"审批通过\",2:\"审批拒绝\"},u={0:\"系统结算\",1:\"用户申请\"},c={name:\"Account\",components:{Pagination:l[\"a\"]},filters:{statusFilter:function(e){return s[e]},typeFilter:function(e){return u[e]}},data:function(){return{list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,username:void 0,mobile:void 0,statusArray:[],sort:\"add_time\",order:\"desc\"},statusMap:s,typeMap:u,rules:{status:[{required:!0,message:\"审批状态不能为空！\",trigger:\"blur\"}]},approveDialogVisible:!1,approveForm:{id:void 0,status:void 0,traceMsg:void 0}}},created:function(){this.getList()},methods:{checkPermission:o[\"a\"],getList:function(){var e=this;this.listLoading=!0,Object(n[\"b\"])(this.listQuery).then((function(t){e.list=t.data.data.traceList,e.total=t.data.data.total,e.listLoading=!1})).catch((function(){e.list=[],e.total=0,e.listLoading=!1}))},handleFilter:function(){this.listQuery.page=1,this.getList()},handleApprove:function(e){var t=this;this.approveForm.id=e.id,this.approveDialogVisible=!0,this.$nextTick((function(){t.$refs[\"approveForm\"].clearValidate()}))},confirmApprove:function(){var e=this;this.$refs[\"approveForm\"].validate((function(t){t&&Object(n[\"a\"])(e.approveForm).then((function(t){e.approveDialogVisible=!1,e.$notify.success({title:\"成功\",message:\"审批成功\"}),e.getList()})).catch((function(t){e.$notify.error({title:\"审批失败\",message:t.data.errmsg})}))}))}}},p=c,d=a(\"2877\"),m=Object(d[\"a\"])(p,i,r,!1,null,null,null);t[\"default\"]=m.exports},\"79e5\":function(e,t,a){\"use strict\";a(\"07dd\")},e350:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return r}));a(\"caad\"),a(\"d3b7\"),a(\"2532\");var i=a(\"4360\");function r(e){if(e&&e instanceof Array&&e.length>0){var t=i[\"a\"].getters&&i[\"a\"].getters.perms,a=e,r=!1;return r=t.indexOf(\"*\")>=0||t.some((function(e){return a.includes(e)})),!!r}return console.error(\"need perms! Like v-permission=\\\"['GET /aaa','POST /bbb']\\\"\"),!1}}}]);","extractedComments":[]}